<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.shape.Rectangle?>

<StackPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="gradle.TeamModeController">
   <Rectangle fill="transparent" height="900.0" width="1400.0" styleClass="animated-background" />

   <VBox alignment="CENTER" spacing="40.0" styleClass="main-container">
      <padding>
         <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
      </padding>

      <VBox alignment="CENTER" spacing="20.0">
         <Text text="👥 MODO EQUIPE" styleClass="title-primary" />
         <Label text="Configure seu time para batalhas 1v1 até 6v6" styleClass="subtitle" />
         <Button text="← VOLTAR" styleClass="nav-button" onAction="#handleBack" />
      </VBox>

      <!-- Team Size Selection -->
      <VBox alignment="CENTER" spacing="20.0" styleClass="dark-card" prefWidth="400.0">
         <Label text="📏 TAMANHO DO TIME" styleClass="title-secondary" />
         <HBox alignment="CENTER" spacing="20.0">
            <Button fx:id="size1v1Button" text="1v1" styleClass="accent-button" onAction="#setTeamSize1v1" />
            <Button fx:id="size2v2Button" text="2v2" styleClass="accent-button" onAction="#setTeamSize2v2" />
            <Button fx:id="size3v3Button" text="3v3" styleClass="accent-button" onAction="#setTeamSize3v3" />
            <Button fx:id="size4v4Button" text="4v4" styleClass="accent-button" onAction="#setTeamSize4v4" />
            <Button fx:id="size5v5Button" text="5v5" styleClass="accent-button" onAction="#setTeamSize5v5" />
            <Button fx:id="size6v6Button" text="6v6" styleClass="accent-button" onAction="#setTeamSize6v6" />
         </HBox>
      </VBox>

      <!-- Team Configuration -->
      <HBox alignment="CENTER" spacing="40.0">
         <!-- Allied Team -->
         <VBox alignment="CENTER" spacing="20.0" styleClass="dark-card" prefWidth="400.0">
            <Label text="🛡️ TIME ALIADO" styleClass="title-secondary" />
            <VBox fx:id="alliedTeamContainer" spacing="10.0" alignment="CENTER">
               <!-- Tanks will be added here dynamically -->
            </VBox>
            <HBox alignment="CENTER" spacing="10.0">
               <Button text="➕ ADICIONAR TANQUE" styleClass="modern-button" onAction="#handleAddTank" />
               <Button text="🤖 ADICIONAR BOT" styleClass="modern-button" onAction="#handleAddBot" />
            </HBox>
         </VBox>

         <!-- Enemy Team -->
         <VBox alignment="CENTER" spacing="20.0" styleClass="dark-card" prefWidth="400.0">
            <Label text="💀 TIME INIMIGO" styleClass="title-secondary" />
            <VBox fx:id="enemyTeamContainer" spacing="10.0" alignment="CENTER">
               <!-- Tanks will be added here dynamically -->
            </VBox>
            <HBox alignment="CENTER" spacing="10.0">
               <Button text="➕ ADICIONAR TANQUE" styleClass="modern-button" onAction="#handleAddEnemyTank" />
               <Button text="🤖 ADICIONAR BOT" styleClass="modern-button" onAction="#handleAddEnemyBot" />
            </HBox>
         </VBox>
      </HBox>

      <!-- Control Mode Selection -->
      <VBox alignment="CENTER" spacing="20.0" styleClass="dark-card" prefWidth="600.0">
         <Label text="🎮 MODO DE CONTROLE" styleClass="title-secondary" />
         <HBox alignment="CENTER" spacing="20.0">
            <VBox alignment="CENTER" spacing="10.0">
               <Label text="🤖 AUTOMÁTICO" styleClass="subtitle" />
               <Label text="Bots controlam automaticamente" styleClass="stat-label" textAlignment="CENTER" wrapText="true" />
               <Button fx:id="autoModeButton" text="SELECIONAR" styleClass="accent-button" onAction="#setControlModeAuto" />
            </VBox>
            <VBox alignment="CENTER" spacing="10.0">
               <Label text="🎯 MANUAL" styleClass="subtitle" />
               <Label text="Você controla as ações dos tanques" styleClass="stat-label" textAlignment="CENTER" wrapText="true" />
               <Button fx:id="manualModeButton" text="SELECIONAR" styleClass="accent-button" onAction="#setControlModeManual" />
            </VBox>
         </HBox>
      </VBox>

      <!-- Start Battle -->
      <Button fx:id="startBattleButton" text="⚔️ INICIAR BATALHA" styleClass="accent-button" onAction="#handleStartBattle" prefWidth="300.0" />
   </VBox>
</StackPane>
